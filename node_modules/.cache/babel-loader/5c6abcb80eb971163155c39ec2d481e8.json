{"ast":null,"code":"/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule keyCommandTransposeCharacters\r\n * @format\r\n * \r\n */\n'use strict';\n\nvar DraftModifier = require('./DraftModifier');\n\nvar EditorState = require('./EditorState');\n\nvar getContentStateFragment = require('./getContentStateFragment');\n/**\r\n * Transpose the characters on either side of a collapsed cursor, or\r\n * if the cursor is at the end of the block, transpose the last two\r\n * characters.\r\n */\n\n\nfunction keyCommandTransposeCharacters(editorState) {\n  var selection = editorState.getSelection();\n\n  if (!selection.isCollapsed()) {\n    return editorState;\n  }\n\n  var offset = selection.getAnchorOffset();\n\n  if (offset === 0) {\n    return editorState;\n  }\n\n  var blockKey = selection.getAnchorKey();\n  var content = editorState.getCurrentContent();\n  var block = content.getBlockForKey(blockKey);\n  var length = block.getLength(); // Nothing to transpose if there aren't two characters.\n\n  if (length <= 1) {\n    return editorState;\n  }\n\n  var removalRange;\n  var finalSelection;\n\n  if (offset === length) {\n    // The cursor is at the end of the block. Swap the last two characters.\n    removalRange = selection.set('anchorOffset', offset - 1);\n    finalSelection = selection;\n  } else {\n    removalRange = selection.set('focusOffset', offset + 1);\n    finalSelection = removalRange.set('anchorOffset', offset + 1);\n  } // Extract the character to move as a fragment. This preserves its\n  // styling and entity, if any.\n\n\n  var movedFragment = getContentStateFragment(content, removalRange);\n  var afterRemoval = DraftModifier.removeRange(content, removalRange, 'backward'); // After the removal, the insertion target is one character back.\n\n  var selectionAfter = afterRemoval.getSelectionAfter();\n  var targetOffset = selectionAfter.getAnchorOffset() - 1;\n  var targetRange = selectionAfter.merge({\n    anchorOffset: targetOffset,\n    focusOffset: targetOffset\n  });\n  var afterInsert = DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);\n  var newEditorState = EditorState.push(editorState, afterInsert, 'insert-fragment');\n  return EditorState.acceptSelection(newEditorState, finalSelection);\n}\n\nmodule.exports = keyCommandTransposeCharacters;","map":{"version":3,"names":["DraftModifier","require","EditorState","getContentStateFragment","keyCommandTransposeCharacters","editorState","selection","getSelection","isCollapsed","offset","getAnchorOffset","blockKey","getAnchorKey","content","getCurrentContent","block","getBlockForKey","length","getLength","removalRange","finalSelection","set","movedFragment","afterRemoval","removeRange","selectionAfter","getSelectionAfter","targetOffset","targetRange","merge","anchorOffset","focusOffset","afterInsert","replaceWithFragment","newEditorState","push","acceptSelection","module","exports"],"sources":["C:/20220103_lab/15.final_project/Front/homemaker-FE/node_modules/draft-js/lib/keyCommandTransposeCharacters.js"],"sourcesContent":["/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule keyCommandTransposeCharacters\r\n * @format\r\n * \r\n */\r\n\r\n'use strict';\r\n\r\nvar DraftModifier = require('./DraftModifier');\r\nvar EditorState = require('./EditorState');\r\n\r\nvar getContentStateFragment = require('./getContentStateFragment');\r\n\r\n/**\r\n * Transpose the characters on either side of a collapsed cursor, or\r\n * if the cursor is at the end of the block, transpose the last two\r\n * characters.\r\n */\r\nfunction keyCommandTransposeCharacters(editorState) {\r\n  var selection = editorState.getSelection();\r\n  if (!selection.isCollapsed()) {\r\n    return editorState;\r\n  }\r\n\r\n  var offset = selection.getAnchorOffset();\r\n  if (offset === 0) {\r\n    return editorState;\r\n  }\r\n\r\n  var blockKey = selection.getAnchorKey();\r\n  var content = editorState.getCurrentContent();\r\n  var block = content.getBlockForKey(blockKey);\r\n  var length = block.getLength();\r\n\r\n  // Nothing to transpose if there aren't two characters.\r\n  if (length <= 1) {\r\n    return editorState;\r\n  }\r\n\r\n  var removalRange;\r\n  var finalSelection;\r\n\r\n  if (offset === length) {\r\n    // The cursor is at the end of the block. Swap the last two characters.\r\n    removalRange = selection.set('anchorOffset', offset - 1);\r\n    finalSelection = selection;\r\n  } else {\r\n    removalRange = selection.set('focusOffset', offset + 1);\r\n    finalSelection = removalRange.set('anchorOffset', offset + 1);\r\n  }\r\n\r\n  // Extract the character to move as a fragment. This preserves its\r\n  // styling and entity, if any.\r\n  var movedFragment = getContentStateFragment(content, removalRange);\r\n  var afterRemoval = DraftModifier.removeRange(content, removalRange, 'backward');\r\n\r\n  // After the removal, the insertion target is one character back.\r\n  var selectionAfter = afterRemoval.getSelectionAfter();\r\n  var targetOffset = selectionAfter.getAnchorOffset() - 1;\r\n  var targetRange = selectionAfter.merge({\r\n    anchorOffset: targetOffset,\r\n    focusOffset: targetOffset\r\n  });\r\n\r\n  var afterInsert = DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);\r\n\r\n  var newEditorState = EditorState.push(editorState, afterInsert, 'insert-fragment');\r\n\r\n  return EditorState.acceptSelection(newEditorState, finalSelection);\r\n}\r\n\r\nmodule.exports = keyCommandTransposeCharacters;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,aAAa,GAAGC,OAAO,CAAC,iBAAD,CAA3B;;AACA,IAAIC,WAAW,GAAGD,OAAO,CAAC,eAAD,CAAzB;;AAEA,IAAIE,uBAAuB,GAAGF,OAAO,CAAC,2BAAD,CAArC;AAEA;AACA;AACA;AACA;AACA;;;AACA,SAASG,6BAAT,CAAuCC,WAAvC,EAAoD;EAClD,IAAIC,SAAS,GAAGD,WAAW,CAACE,YAAZ,EAAhB;;EACA,IAAI,CAACD,SAAS,CAACE,WAAV,EAAL,EAA8B;IAC5B,OAAOH,WAAP;EACD;;EAED,IAAII,MAAM,GAAGH,SAAS,CAACI,eAAV,EAAb;;EACA,IAAID,MAAM,KAAK,CAAf,EAAkB;IAChB,OAAOJ,WAAP;EACD;;EAED,IAAIM,QAAQ,GAAGL,SAAS,CAACM,YAAV,EAAf;EACA,IAAIC,OAAO,GAAGR,WAAW,CAACS,iBAAZ,EAAd;EACA,IAAIC,KAAK,GAAGF,OAAO,CAACG,cAAR,CAAuBL,QAAvB,CAAZ;EACA,IAAIM,MAAM,GAAGF,KAAK,CAACG,SAAN,EAAb,CAdkD,CAgBlD;;EACA,IAAID,MAAM,IAAI,CAAd,EAAiB;IACf,OAAOZ,WAAP;EACD;;EAED,IAAIc,YAAJ;EACA,IAAIC,cAAJ;;EAEA,IAAIX,MAAM,KAAKQ,MAAf,EAAuB;IACrB;IACAE,YAAY,GAAGb,SAAS,CAACe,GAAV,CAAc,cAAd,EAA8BZ,MAAM,GAAG,CAAvC,CAAf;IACAW,cAAc,GAAGd,SAAjB;EACD,CAJD,MAIO;IACLa,YAAY,GAAGb,SAAS,CAACe,GAAV,CAAc,aAAd,EAA6BZ,MAAM,GAAG,CAAtC,CAAf;IACAW,cAAc,GAAGD,YAAY,CAACE,GAAb,CAAiB,cAAjB,EAAiCZ,MAAM,GAAG,CAA1C,CAAjB;EACD,CA/BiD,CAiClD;EACA;;;EACA,IAAIa,aAAa,GAAGnB,uBAAuB,CAACU,OAAD,EAAUM,YAAV,CAA3C;EACA,IAAII,YAAY,GAAGvB,aAAa,CAACwB,WAAd,CAA0BX,OAA1B,EAAmCM,YAAnC,EAAiD,UAAjD,CAAnB,CApCkD,CAsClD;;EACA,IAAIM,cAAc,GAAGF,YAAY,CAACG,iBAAb,EAArB;EACA,IAAIC,YAAY,GAAGF,cAAc,CAACf,eAAf,KAAmC,CAAtD;EACA,IAAIkB,WAAW,GAAGH,cAAc,CAACI,KAAf,CAAqB;IACrCC,YAAY,EAAEH,YADuB;IAErCI,WAAW,EAAEJ;EAFwB,CAArB,CAAlB;EAKA,IAAIK,WAAW,GAAGhC,aAAa,CAACiC,mBAAd,CAAkCV,YAAlC,EAAgDK,WAAhD,EAA6DN,aAA7D,CAAlB;EAEA,IAAIY,cAAc,GAAGhC,WAAW,CAACiC,IAAZ,CAAiB9B,WAAjB,EAA8B2B,WAA9B,EAA2C,iBAA3C,CAArB;EAEA,OAAO9B,WAAW,CAACkC,eAAZ,CAA4BF,cAA5B,EAA4Cd,cAA5C,CAAP;AACD;;AAEDiB,MAAM,CAACC,OAAP,GAAiBlC,6BAAjB"},"metadata":{},"sourceType":"script"}